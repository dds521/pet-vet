# ============================================
# PetVet MCP 服务 - 公共配置
# 配置文件名: pet-vet-mcp-common.yml
# Group: DEFAULT_GROUP
# 说明: 所有环境共享的公共配置
# ============================================

server:
  port: 48083

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

logging:
  level:
    root: INFO
    com.petvet.mcp: DEBUG

# ============================================
# Nacos 服务发现配置
# ============================================
spring:
  cloud:
    nacos:
      discovery:
        server-addr: ${NACOS_SERVER_ADDR:127.0.0.1:8848}
        namespace: ${NACOS_NAMESPACE:public}
        group: DEFAULT_GROUP
        # 服务注册配置
        ip: ${NACOS_DISCOVERY_IP:127.0.0.1}
        # 服务版本元数据（用于灰度发布）
        metadata:
          version: ${SERVICE_VERSION:v1.0}
  ai:
    mcp:
      client:
        # 禁用自动配置，使用手动管理
        enabled: false
        # 以下配置已禁用，我们通过 McpClientManager 手动管理
        # stdio:
        #   servers-configuration: classpath:mcp-servers.json
